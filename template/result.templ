package template

import "encoding/json"

type Claim struct {
	ID      string
	Details json.RawMessage
}

type Image struct {
	ID          int
	ClaimID     string
	Filename    string
	Description string
	Type        string
}

templ Result(c Claim, imgs []Image) {
	<!DOCTYPE html>
	<html lang="ru">
		<head>
			<meta charset="UTF-8"/>
			<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
			<title>–ê—Å–∫–∞–Ω ‚Äî –ü–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è</title>
			<script src="/static/tailwind.js"></script>
		</head>
		<body class="bg-[#121212] text-white font-sans">
			<!-- Wrapper -->
			<div class="min-h-screen">
				<!-- Sidebar -->
				<aside class="bg-[#181818] lg:w-64 w-full lg:fixed top-4 left-4 rounded-2xl shadow-xl p-5 flex flex-col justify-between z-20 h-auto lg:h-[calc(100vh-2rem)]">
					<div>
						<!-- –õ–æ–≥–æ—Ç–∏–ø -->
						<div class="flex items-center gap-2 mb-6">
							<div class="w-4 h-4 rounded-full bg-gradient-to-r from-cyan-400 via-green-400 to-pink-500"></div>
							<span class="text-white font-bold text-lg">–ê—Å–∫–∞–Ω</span>
						</div>
						<!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
						<nav class="space-y-3 text-sm text-white">
							<button class="flex items-center gap-2 hover:text-gray-300">
								<span>üñ≤Ô∏è</span> –ù–æ–≤–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
							</button>
							<div class="mt-6">
								<p class="text-gray-400 mb-2">–ú–æ–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</p>
								<ul class="space-y-1 pl-2">
									<li class="text-white truncate font-medium">–ö—É–∑–æ–≤–Ω—ã–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è: —Å–∏–ª—å–Ω–∞—è...</li>
									<li class="text-gray-400">–ë–∏—Ç–æ–µ –∫—Ä—ã–ª–æ –Ω–∞ –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏</li>
									<li class="text-gray-400">–†–∞–∑–±–∏—Ç—ã–π –≤–µ—Ä—Ö–Ω–∏–π</li>
								</ul>
							</div>
						</nav>
					</div>
					<!-- –ö–Ω–æ–ø–∫–∞ —Å–Ω–∏–∑—É -->
					<button class="bg-zinc-800 text-white text-sm mt-6 px-4 py-2 rounded-xl hover:bg-zinc-700">
						–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ê–≤–∏—Ç–æ
					</button>
				</aside>
				<!-- Main content -->
				<main class="pt-8 px-6 lg:pl-[304px]">
					<!-- 288px + 16px –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –æ—Ç—Å—Ç—É–ø–∞ -->
					<div class="max-w-[1000px] mx-auto">
						<!-- Sticky Header -->
						<div class="sticky top-0 z-10 bg-[#121212] pt-6 pb-4">
							<h1 class="text-xl font-semibold">
								–ö—É–∑–æ–≤–Ω—ã–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è: —Å–∏–ª—å–Ω–∞—è –¥–µ—Ñ–æ—Ä–º–∞—Ü–∏—è –∫–∞–ø–æ—Ç–∞ ‚Äî –Ω–µ –ø–æ–¥–ª–µ–∂–∏—Ç –∑–∞–º–µ–Ω–µ
							</h1>
						</div>
						<!-- Thumbnails -->
						<!-- Thumbnails -->
						<!-- Thumbnails -->
						<div class="flex flex-wrap gap-4 mb-6">
							for i, img := range imgs {
								<button
									onclick={ templ.JSFuncCall("changeMainImage", "http://localhost:8080/static/processed/"+img.Filename) }
									class="flex items-center gap-2 bg-zinc-800 px-4 py-2 rounded-xl text-sm hover:bg-zinc-700 transition"
									type="button"
								>
									<img
										src={ "/static/processed/" + img.Filename }
										alt="thumb"
										class="w-8 h-8 rounded-xl object-cover border border-zinc-600"
									/>
									<span>–§–æ—Ç–æ-{ i + 1 }</span>
								</button>
							}
						</div>
						<!-- Main layout: Image + Right side -->
						<div class="flex flex-col lg:flex-row gap-6">
							<!-- Image -->
							<!-- Image -->
							<div class="lg:w-1/2 w-full">
								if len(imgs) > 0 {
									<img id="main-image" src={ "/static/processed/" + imgs[0].Filename } alt="–ü–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω–∞—è –º–∞—à–∏–Ω–∞" class="rounded-xl w-full object-cover"/>
								}
							</div>
							<!-- Right Column -->
							<div class="lg:w-1/2 w-full flex flex-col gap-6">
								<!-- Report -->
								<div class="bg-zinc-800 rounded-xl p-6 space-y-4">
									<h2 class="text-lg font-semibold">–û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è:</h2>
									<div class="space-y-3 text-sm">
										<div>
											<p class="font-semibold">–ö—É–∑–æ–≤–Ω—ã–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è</p>
											<ul class="list-disc list-inside text-gray-300">
												<li>–°–∏–ª—å–Ω–∞—è –¥–µ—Ñ–æ—Ä–º–∞—Ü–∏—è –∫–∞–ø–æ—Ç–∞ ‚Äî –Ω–µ –ø–æ–¥–ª–µ–∂–∏—Ç –∑–∞–º–µ–Ω–µ</li>
												<li>–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑—Ä—É—à–µ–Ω –ø–µ—Ä–µ–¥–Ω–∏–π –±–∞–º–ø–µ—Ä</li>
												<li>–†–µ—à—ë—Ç–∫–∞ —Ä–∞–¥–∏–∞—Ç–æ—Ä–∞ –≤—ã–ª–æ–º–∞–Ω–∞, –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</li>
											</ul>
										</div>
										<div>
											<p class="font-semibold">–°—Ç–µ–∫–ª—è–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã</p>
											<ul class="list-disc list-inside text-gray-300">
												<li>–õ–æ–±–æ–≤–æ–µ —Å—Ç–µ–∫–ª–æ —Å —Ç—Ä–µ—â–∏–Ω–æ–π ‚Äî —Ç—Ä–µ–±—É–µ—Ç –∑–∞–º–µ–Ω—ã</li>
											</ul>
										</div>
										<div>
											<p class="font-semibold">–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∫—Ä—ã—Ç—ã–µ –¥–µ—Ñ–µ–∫—Ç—ã</p>
											<ul class="list-disc list-inside text-gray-300">
												<li>–ü–æ–≤—Ä–µ–∂–¥–µ–Ω —Ä–∞–¥–∏–∞—Ç–æ—Ä, —Å–∏—Å—Ç–µ–º–∞ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è –∏ —Å–∏–ª–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–¥–Ω–µ–π —á–∞—Å—Ç–∏ –∫—É–∑–æ–≤–∞</li>
											</ul>
										</div>
									</div>
								</div>
								<!-- Conclusion -->
								<div class="bg-zinc-800 rounded-xl p-6 space-y-4">
									<div class="flex justify-between items-center">
										<h2 class="text-lg font-semibold">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</h2>
										<button class="bg-zinc-700 hover:bg-zinc-600 text-sm px-4 py-1 rounded-md">–°–∫–∞—á–∞—Ç—å –∞–∫—Ç</button>
									</div>
									<ul class="list-disc list-inside text-sm text-gray-300 space-y-1">
										<li>–°–µ—Ä—å—ë–∑–Ω–∞—è –¥–µ—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–µ—Ä–µ–¥–Ω–µ–π —á–∞—Å—Ç–∏ –∫—É–∑–æ–≤–∞</li>
										<li>–ù–µ –∏—Å–∫–ª—é—á–µ–Ω–æ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –Ω–µ—Å—É—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤</li>
										<li>–¢—Ä–µ—â–∏–Ω–∞ –Ω–∞ –ª–æ–±–æ–≤–æ–º —Å—Ç–µ–∫–ª–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—Ä—É—à–µ–Ω–∏–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</li>
										<li>–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ —Å–∫—Ä—ã—Ç—ã—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π</li>
									</ul>
									<div class="bg-red-900/40 border border-red-600 text-red-300 p-4 rounded-md text-sm">
										‚ö†Ô∏è –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –Ω–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –∫ –∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–∏—é. –ê–≤—Ç–æ–º–æ–±–∏–ª—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∞–≤–∞—Ä–∏–π–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∏ —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è. –§–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏ –≤ —Ç–µ–∫—É—â–µ–º –≤–∏–¥–µ –Ω–µ—Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω–æ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Ä–∏—Å–∫–æ–≤ –∏ –æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏.
									</div>
								</div>
							</div>
						</div>
					</div>
				</main>
			</div>
			<script>
            function changeMainImage(src) {
            	const main = document.getElementById("main-image");
            	if (main) {
            		main.src = src;
            	}
            }
            </script>
		</body>
	</html>
}
